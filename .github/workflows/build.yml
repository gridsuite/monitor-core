name: CI

on:
  push:
    branches:
      - 'main'
      - 'secret-test-remove-dockerimage'
  pull_request:

jobs:
  build:
    uses: powsybl/github-ci/.github/workflows/build-backend-app-generic.yml@c250299c2e385e16e000f1d8de29d1ad689aad9e
    with:
      dockerUsername: gridsuiteci
      eventType: monitor_updated
    secrets:
      sonar-token: ${{ secrets.SONAR_TOKEN }}
      DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
      repo-token: ${{ secrets.REPO_ACCESS_TOKEN }}
